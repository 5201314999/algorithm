<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>广度遍历 解析json 的所有id ，[{id:1, children: arr|null}]</title>
  <meta name='viewport' content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <link href="" rel="stylesheet">
</head>

<body>
  <script>
    // 比起arr是一个对象多出一步整理。笔试的时候做不出来。
    var bfs = function (arr) {
      let res = [];
      let queue = [];
      for (let i = 0; i < arr.length; i++) {
        queue.push(arr[i]);
      }
      while (queue.length > 0) {
        const node = queue.shift();
        res.push(node.id);
        for (let i = 0; node.children && i< node.children.length; i++) {
          queue.push(node.children[i]);
        }
      }
      return res;
    }

    var arr = [{
        id: 1,
        children: [{
            id: 4,
            children: null
          },
          {
            id: 5,
            children: [{
              id: 13,
              children: null
            }, {
              id: 14,
              children: null
            }, {
              id: 15,
              children: null
            }]
          }
        ]
      }, {
        id: 2,
        children: [{
          id: 7,
          children: null
        }, {
          id: 8,
          children: [{
            id: 16,
            children: null
          }, {
            id: 17,
            children: null
          }]
        }, {
          id: 9,
          children: null
        }]
      },
      {
        id: 3,
        children: [{
          id: 10,
          children: null
        }, {
          id: 11,
          children: null
        }, {
          id: 12,
          children: null
        }]
      }

    ]

    console.log(bfs(arr))
  </script>
</body>

</html>