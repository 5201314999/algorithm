<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>最佳买卖股票，带有冷冻期(中等)</title>
        <meta
            name="viewport"
            content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"
        />
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <link href="" rel="stylesheet" />
    </head>
    <body>
        <script>
            // 需要多记录前天的累积值
            var maxProfit = function (prices) {
                if (!prices || prices.length === 0) {
                    return 0
                }
                let prevProfit = 0
                let profit0 = 0
                let profit1 = -prices[0]
                for (let i = 1, l = prices.length; i < l; i++) {
                    let newProfit0 = Math.max(profit0, profit1 + prices[i])
                    let newProfit1 = Math.max(profit1, prevProfit - prices[i])
                    prevProfit = profit0
                    profit0 = newProfit0
                    profit1 = newProfit1
                }
                return profit0
            }

            console.log(maxProfit([1, 2, 3, 0, 2]))
        </script>
    </body>
</html>
